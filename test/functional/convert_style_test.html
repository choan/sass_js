<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>JavaScript unit test file</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <script src="../assets/jsunittest.js" type="text/javascript"></script>
  
  <script src="../assets/jshoulda.js" type="text/javascript"></script>
  
  
  <script src="../../dist/sass_js.js" type="text/javascript"></script>
  
  <link rel="stylesheet" href="../assets/unittest.css" type="text/css" />
  <style type="text/sass" media="screen" id="sass">
body
  :color blue
  
  .logtable
    :width 80%
    :margin 0
      :left auto
      :right auto

{}
  </style>
</head>
<body>

<div id="content">

  <div id="header">
    <h1>JavaScript unit test file</h1>
    <p>
      Functional tests for <strong>dist/convert_script.js</strong>.
    </p>
  </div>

  <!-- Log output (one per Runner, via {testLog: "testlog"} option)-->
  <div id="testlog"></div>
  
  <!-- Put sample/test html here -->
  <div id="sample"></div>
</div>

<script type="text/javascript">
// <![CDATA[

context("The Sass Engine", {
  setup: function() {

  }
  },
  should("allow transforming sheets read from the document", function() {
    var sass = document.getElementById('sass').innerHTML;
    var eng = new Sass.Engine(sass);
    var css = eng.render();
    this.assertEqual('body { color: blue; }\nbody .logtable { width: 80%; margin: 0; margin-left: auto; margin-right: auto; }\n', css);
    var style = document.createElement('style');
    style.type = 'text/css';
    // note that innerHTML modification of style elements
    // is not allowed in webkit
    var text = document.createTextNode(css);
    document.getElementsByTagName('head')[0].appendChild(style);
    style.appendChild(text);
  })
)();

// ]]>
</script>
</body>
</html>